{"ast":null,"code":"import _objectSpread from\"/Users/domitoriy/Desktop/Progects/TenziesGame/tenzies-game/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/domitoriy/Desktop/Progects/TenziesGame/tenzies-game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./App.css';import Dice from'./Dice';import{nanoid}from'nanoid';import Confetti from'react-confetti';import{useWindowSize}from'react-use';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useWindowSize=useWindowSize(),width=_useWindowSize.width,height=_useWindowSize.height;var createNewDice=function createNewDice(){return{id:nanoid(),value:Math.ceil(Math.random()*6),// if are not expecting 0 use {ceil}\nisHeld:false};};var createNewDices=function createNewDices(){var newDiceArray=[];for(var i=0;i<10;i++){newDiceArray.push(createNewDice());}return newDiceArray;};var _useState=useState(createNewDices()),_useState2=_slicedToArray(_useState,2),dices=_useState2[0],setDices=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),tenzies=_useState4[0],setTenzies=_useState4[1];var rollDice=function rollDice(){if(!tenzies){setDices(function(oldDice){return oldDice.map(function(dice){return dice.isHeld?dice:createNewDice();});});}else{setTenzies(false);setDices(createNewDices());}};var holdFunction=function holdFunction(id){setDices(function(prevDices){return prevDices.map(function(dice){return dice.id===id?_objectSpread(_objectSpread({},dice),{},{isHeld:!dice.isHeld}):dice;});});};useEffect(function(){var allHeld=dices.every(function(dice){return dice.isHeld;});// return boolean\nvar firstValue=dices[0].value;var allValues=dices.every(function(dice){return dice.value===firstValue;});if(allHeld&&allValues){setTenzies(true);}/* const arr = dices.filter(dice => dice.isHeld !== true)\n    const arr2 = dices.filter(dice => dice.value !== dices[0].value)\n    if (arr.length === 0 && arr2.length === 0) {\n      console.log('won')\n    } */},[dices]);var diceElements=dices.map(function(dice){return/*#__PURE__*/_jsx(Dice,{value:dice.value,isHeld:dice.isHeld,holdFunction:holdFunction,id:dice.id},dice.id);});return/*#__PURE__*/_jsxs(\"main\",{children:[tenzies&&/*#__PURE__*/_jsx(Confetti,{width:width,height:height}),/*#__PURE__*/_jsx(\"h1\",{children:\"Tenzies\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Roll until all dice are the same. Click each die to freeze it at its current value between rolls.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"diceContainer\",children:diceElements}),/*#__PURE__*/_jsxs(\"button\",{onClick:rollDice,className:\"rollDiceButton\",children:[tenzies?\"New Game\":\"Roll\",\" \"]})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Dice","nanoid","Confetti","useWindowSize","App","width","height","createNewDice","id","value","Math","ceil","random","isHeld","createNewDices","newDiceArray","i","push","dices","setDices","tenzies","setTenzies","rollDice","oldDice","map","dice","holdFunction","prevDices","allHeld","every","firstValue","allValues","diceElements"],"sources":["/Users/domitoriy/Desktop/Progects/TenziesGame/tenzies-game/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Dice from './Dice';\nimport { nanoid } from 'nanoid';\nimport Confetti from 'react-confetti';\nimport {useWindowSize} from 'react-use';\n\nconst App = () => {\n\n  const { width, height } = useWindowSize()\n  const createNewDice = () => {\n    return {\n      id: nanoid(),\n      value: Math.ceil(Math.random() * 6),    // if are not expecting 0 use {ceil}\n      isHeld: false\n    }\n  }\n\n  const createNewDices = () => {\n    let newDiceArray = [];\n    for (let i = 0; i < 10; i++) {\n      newDiceArray.push(createNewDice())\n    }\n    return newDiceArray;\n  }\n\n  const [dices, setDices] = useState(createNewDices());\n  const [tenzies, setTenzies] = useState(false);\n\n  const rollDice = () => {\n    if (!tenzies) {\n      setDices(oldDice => oldDice.map(dice => {\n        return dice.isHeld ?\n          dice :\n          createNewDice()\n      }))\n    } else {\n      setTenzies(false);\n      setDices(createNewDices())\n    }\n  }\n\n  const holdFunction = (id) => {\n    setDices(prevDices => prevDices.map(dice => {\n      return dice.id === id ? { ...dice, isHeld: !dice.isHeld } : dice\n    }))\n  }\n  useEffect(() => {\n    const allHeld = dices.every(dice => dice.isHeld)    // return boolean\n    const firstValue = dices[0].value\n    const allValues = dices.every(dice => dice.value === firstValue)\n    if (allHeld && allValues) {\n      setTenzies(true)\n    }\n    /* const arr = dices.filter(dice => dice.isHeld !== true)\n    const arr2 = dices.filter(dice => dice.value !== dices[0].value)\n    if (arr.length === 0 && arr2.length === 0) {\n      console.log('won')\n    } */\n  }, [dices])\n\n  const diceElements = dices.map(dice => <Dice key={dice.id} value={dice.value}\n    isHeld={dice.isHeld} holdFunction={holdFunction} id={dice.id} />)\n\n  return (\n    <main>\n      {tenzies && <Confetti width={width}\n        height={height} />}\n      <h1>Tenzies</h1>\n      <p>Roll until all dice are the same. Click each die to freeze it at its current value between rolls.</p>\n      <div className='diceContainer'>\n        {diceElements}\n      </div>\n      < button onClick={rollDice} className='rollDiceButton'>{tenzies ? \"New Game\" : \"Roll\"} </button>\n    </main>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}